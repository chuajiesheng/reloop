
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>read &mdash; reloop 0.0.1a documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/ls8layout.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1a',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="reloop 0.0.1a documentation" href="../index.html" />
    <link rel="up" title="Module code" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www-ai.cs.uni-dortmund.de/weblab/index.html"><img class="intro-logo" src="../_static/tulogo.svg">
        </a>
        <span class="navbar-text navbar-ls8-title">
          reloop<span class="navbar-version"><b> (0.0.1)</b></span>
        </span>
      </div>

      <div class="collapse navbar-collapse nav-collapse navbar-right">
        <ul class="nav navbar-nav">
          
              <li><a href="../index.html">Home</a></li>
              <li><a href="../download.html">Download</a></li>
          
          
            
<li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Index <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#main-dependencies">Main dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#optional-dependencies">Optional dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-reloop">Installing reloop</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#relational-linear-programming">Relational Linear Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#equitable-partitions-and-lifted-linear-programming">Equitable Partitions and Lifted Linear Programming</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../RAMPL.html">RAMPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LLP.html">LLP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../python_maxflow_operator.html">maxflow_operator.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_maxflow_text.html">maxflow_text.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_equitablePartition_Abc.html">equitablePartition_Abc.py</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code.html">Code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cython.html">Cython</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cpp.html">CPlusPlus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a></li>
</ul>
</ul>
</li>
            
          
          
          
          
          
        </ul>

        
          
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <h1>Source code for read</h1><div class="highlight"><pre>
<span class="kn">import</span> <span class="nn">reloop.utils.io.glpkwrap</span> <span class="kn">as</span> <span class="nn">glpkwrap</span>
<span class="kn">import</span> <span class="nn">scipy.sparse</span> <span class="kn">as</span> <span class="nn">sp</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">UPPER</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">LOWER</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">EQUAL</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">UNBOUND</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">GEOMMEAN</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">EQUILIB</span> <span class="o">=</span> <span class="mi">7</span>

<div class="viewcode-block" id="openLP"><a class="viewcode-back" href="../python_read.html#read.openLP">[docs]</a><span class="k">def</span> <span class="nf">openLP</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="n">ftype</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calls C++ code which opens a linear Program to solve given problem in specified file.</span>
<span class="sd">    </span>
<span class="sd">    :param fname: The path of a specified file, which is subject to solving</span>
<span class="sd">    :type fname: str.</span>
<span class="sd">    :param ftype: A specified format as how to solve the given LP</span>
<span class="sd">    :type ftype: int.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">glpkwrap</span><span class="o">.</span><span class="n">openLP_Py</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="n">ftype</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="extract_matrix"><a class="viewcode-back" href="../python_read.html#read.extract_matrix">[docs]</a><span class="k">def</span> <span class="nf">extract_matrix</span><span class="p">(</span><span class="n">lpmatrix</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extracts a coordinate matrix from a given array with exactly 4 rows</span>

<span class="sd">    :param lpmatrix: An array with four rows. The first two rows being the row and column coordinates of the matrix to be extracted and the third row being the data for the respective coordinates. Fourth Row TODO</span>

<span class="sd">    :returns: a tuple (A,b)</span>

<span class="sd">            A -- The matrix extracted from lpmatrix!</span>
<span class="sd">            b -- the corresponding data vector.</span>

<span class="sd">    This function is heavily dependant on the number of the rows of given lpmatrix. Four rows are necessary for this function to be properly executed.</span>

<span class="sd">    &gt;&gt;&gt; print extract_matrix(lpmatrix)</span>
<span class="sd">    A,b</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">ncols</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="n">lpmatrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">nrows</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="n">lpmatrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">nelms</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="n">lpmatrix</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">print</span> <span class="n">nelms</span><span class="p">,</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">nrows</span>    
    <span class="n">i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">lpmatrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">:(</span><span class="n">nelms</span><span class="o">+</span><span class="mi">1</span><span class="p">)],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">)</span> 
    <span class="n">j</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">lpmatrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:(</span><span class="n">nelms</span><span class="o">+</span><span class="mi">1</span><span class="p">)],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">lpmatrix</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">:(</span><span class="n">nelms</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    <span class="n">lb</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="n">lpmatrix</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">lpmatrix</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="n">lb</span><span class="p">]</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">coo_matrix</span><span class="p">((</span><span class="n">d</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)),</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
 </div>
<div class="viewcode-block" id="getMatrix_Upper"><a class="viewcode-back" href="../python_read.html#read.getMatrix_Upper">[docs]</a><span class="k">def</span> <span class="nf">getMatrix_Upper</span><span class="p">(</span><span class="n">scaled</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the Upper Bounds for a given LP and returns it as a multi-dimensional array</span>
<span class="sd">        Ax &gt; b</span>

<span class="sd">    :param scaled: Flag, which indicates a scaled LP   </span>
<span class="sd">    :type scaled: int.</span>

<span class="sd">    :returns:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">glpkwrap</span><span class="o">.</span><span class="n">getMatrix_Upper</span><span class="p">(</span><span class="n">scaled</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="getMatrix_Lower"><a class="viewcode-back" href="../python_read.html#read.getMatrix_Lower">[docs]</a><span class="k">def</span> <span class="nf">getMatrix_Lower</span><span class="p">(</span><span class="n">scaled</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the Lower Bounds for a given LP and returns it as a multi-dimensional array</span>
<span class="sd">        Ax &lt; b</span>

<span class="sd">    :param scaled: Flag, which indicates a scaled LP   </span>
<span class="sd">    :type scaled: int.</span>

<span class="sd">    :returns:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">glpkwrap</span><span class="o">.</span><span class="n">getMatrix_Lower</span><span class="p">(</span><span class="n">scaled</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="getMatrix_Equal"><a class="viewcode-back" href="../python_read.html#read.getMatrix_Equal">[docs]</a><span class="k">def</span> <span class="nf">getMatrix_Equal</span><span class="p">(</span><span class="n">scaled</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    TODO</span>
<span class="sd">        Ax = b</span>

<span class="sd">    :param scaled: Flag, which indicates a scaled LP   </span>
<span class="sd">    :type scaled: int.</span>

<span class="sd">    :returns:</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">glpkwrap</span><span class="o">.</span><span class="n">getMatrix_Equal</span><span class="p">(</span><span class="n">scaled</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="getMatrix_Unbound"><a class="viewcode-back" href="../python_read.html#read.getMatrix_Unbound">[docs]</a><span class="k">def</span> <span class="nf">getMatrix_Unbound</span><span class="p">(</span><span class="n">scaled</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes Unbound variables of given LP</span>
<span class="sd">        Ax &lt; 0</span>

<span class="sd">    :param scaled: Flag, which indicates a scaled LP   </span>
<span class="sd">    :type scaled: int.</span>

<span class="sd">    :returns:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">glpkwrap</span><span class="o">.</span><span class="n">getMatrix_Unbound</span><span class="p">(</span><span class="n">scaled</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="getObjective"><a class="viewcode-back" href="../python_read.html#read.getObjective">[docs]</a><span class="k">def</span> <span class="nf">getObjective</span><span class="p">(</span><span class="n">scaled</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calls the function getObjective from glpk2py.cpp and returns the objectives as one-dimensional array (see getObjective.cpp)</span>

<span class="sd">    :param scaled: Flag, which indicates a scaled LP   </span>
<span class="sd">    :type scaled: int.</span>

<span class="sd">    :returns: The objective of a given lp as numpy array</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">glpkwrap</span><span class="o">.</span><span class="n">getObjective_Py</span><span class="p">(</span><span class="n">scaled</span><span class="p">)</span></div>
<span class="k">def</span> <span class="nf">solve</span><span class="p">():</span>
    <span class="n">glpkwrap</span><span class="o">.</span><span class="n">solve_Py</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">doScaling</span><span class="p">(</span><span class="n">sctype</span><span class="p">):</span>
     <span class="n">glpkwrap</span><span class="o">.</span><span class="n">doScaling_Py</span><span class="p">(</span><span class="n">sctype</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">closeLP</span><span class="p">():</span>
    <span class="n">glpkwrap</span><span class="o">.</span><span class="n">closeLP_Py</span><span class="p">()</span>
</pre></div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright .<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>